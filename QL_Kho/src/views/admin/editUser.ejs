<%- include('../partials/admin/header') %>
  <link rel="stylesheet" href="/css/admin/editUser.css">

  <div class="edit-user-container">
    <h1>Chỉnh sửa người dùng</h1>

    <% if (error) { %>
      <div class="error-alert">
        <%= error %>
      </div>
      <% } %>

        <form method="POST" action="/admin/users/<%= user.id %>" class="edit-user-form">
          <div class="form-item">
            <label for="username" class="form-label">Tên đăng nhập *</label>
            <input type="text" class="form-input" id="username" name="username" value="<%= user.username %>" required>
          </div>

          <div class="form-item">
            <label for="role" class="form-label">Vai trò *</label>
            <select class="form-select" id="role" name="role" required>
              <% for (const role of roles) { %>
                <option value="<%= role %>" <%=user.role===role ? 'selected' : '' %>>
                  <%= role %>
                </option>
                <% } %>
            </select>
          </div>


          <div class="form-item">
            <label for="full_name" class="form-label">Họ và tên *</label>
            <input type="text" class="form-input" id="full_name" name="full_name" value="<%= user.full_name %>"
              required>
          </div>

          <div class="form-item">
            <label for="email" class="form-label">Email *</label>
            <input type="email" class="form-input" id="email" name="email" value="<%= user.email %>" required>
          </div>

          <div class="form-item">
            <label for="phone" class="form-label">Số điện thoại</label>
            <input type="text" class="form-input" id="phone" name="phone" value="<%= user.phone || '' %>">
          </div>

          <div class="form-item">
            <label for="address" class="form-label">Địa chỉ</label>
            <textarea class="form-textarea" id="address" name="address" rows="3"><%= user.address || '' %></textarea>
          </div>

          <div class="form-item form-checkbox">
            <input type="checkbox" class="checkbox-input" id="is_active" name="is_active" <%=user.is_active ? 'checked'
              : '' %>>
            <label class="checkbox-label" for="is_active">Kích hoạt tài khoản</label>
          </div>

          <div class="form-actions">
            <button type="submit" class="primary-button">Cập nhật</button>
            <a href="/admin/users" class="secondary-button">Hủy bỏ</a>
          </div>
        </form>
  </div>

  <%- include('../partials/admin/footer') %>