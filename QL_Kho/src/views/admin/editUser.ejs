<%- include('../partials/admin/header') %>

  <div class="container">
    <h1>Chỉnh sửa người dùng</h1>

    <% if (error) { %>
      <div class="alert alert-danger">
        <%= error %>
      </div>
      <% } %>

        <form method="POST" action="/admin/users/<%= user.id %>">
          <div class="form-group">
            <label for="username">Tên đăng nhập *</label>
            <input type="text" class="form-control" id="username" name="username" value="<%= user.username %>" required>
          </div>

          <div class="form-group">
            <label for="role">Vai trò *</label>
            <select class="form-control" id="role" name="role" required>
              <% for (const role of roles) { %>
                <option value="<%= role %>" <%=user.role===role ? 'selected' : '' %>>
                  <%= role %>
                </option>
                <% } %>
            </select>
          </div>


          <div class="form-group">
            <label for="full_name">Họ và tên *</label>
            <input type="text" class="form-control" id="full_name" name="full_name" value="<%= user.full_name %>"
              required>
          </div>

          <div class="form-group">
            <label for="email">Email *</label>
            <input type="email" class="form-control" id="email" name="email" value="<%= user.email %>" required>
          </div>

          <div class="form-group">
            <label for="phone">Số điện thoại</label>
            <input type="text" class="form-control" id="phone" name="phone" value="<%= user.phone || '' %>">
          </div>

          <div class="form-group">
            <label for="address">Địa chỉ</label>
            <textarea class="form-control" id="address" name="address" rows="3"><%= user.address || '' %></textarea>
          </div>

          <div class="form-group form-check">
            <input type="checkbox" class="form-check-input" id="is_active" name="is_active" <%=user.is_active
              ? 'checked' : '' %>>
            <label class="form-check-label" for="is_active">Kích hoạt tài khoản</label>
          </div>

          <button type="submit" class="btn btn-primary">Cập nhật</button>
          <a href="/admin/users" class="btn btn-secondary">Hủy bỏ</a>
        </form>
  </div>

  <%- include('../partials/admin/footer') %>