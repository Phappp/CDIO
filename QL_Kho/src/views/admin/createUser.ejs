<%- include('../partials/admin/header') %>
<link rel="stylesheet" href="/css/admin/createUser.css">
    <div class="container">
        <h1>Thêm người dùng mới</h1>

        <% if (error) { %>
            <div class="alert alert-danger">
                <%= error %>
            </div>
            <% } %>

                <form method="POST" action="/admin/users">
                    <div class="form-group">
                        <label for="username">Tên đăng nhập *</label>
                        <input type="text" class="form-control" id="username" name="username"
                            value="<%= formData?.username || '' %>" required>
                    </div>

                    <div class="form-group">
                        <label for="password">Mật khẩu *</label>
                        <input type="password" class="form-control" id="password" name="password" required>
                    </div>

                    <div class="form-group">
                        <label for="role">Vai trò *</label>
                        <select class="form-control" id="role" name="role" required>
                            <% for (const role of roles) { %>
                                <option value="<%= role %>" <%=formData?.role===role ? 'selected' : '' %>>
                                    <%= role %>
                                </option>
                                <% } %>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="full_name">Họ và tên *</label>
                        <input type="text" class="form-control" id="full_name" name="full_name"
                            value="<%= formData?.full_name || '' %>" required>
                    </div>

                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" class="form-control" id="email" name="email"
                            value="<%= formData?.email || '' %>" required>
                    </div>

                    <div class="form-group">
                        <label for="phone">Số điện thoại</label>
                        <input type="text" class="form-control" id="phone" name="phone"
                            value="<%= formData?.phone || '' %>">
                    </div>

                    <div class="form-group">
                        <label for="address">Địa chỉ</label>
                        <textarea class="form-control" id="address" name="address"
                            rows="3"><%= formData?.address || '' %></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary">Lưu lại</button>
                    <a href="/admin/users" class="btn btn-secondary">Hủy bỏ</a>
                </form>
    </div>

    <%- include('../partials/admin/footer') %>