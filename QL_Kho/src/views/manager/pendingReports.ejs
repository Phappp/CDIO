<%- include('../partials/manager/header') %>

<link rel="stylesheet" href="/css/darkmode/admin/pendingReports.css">
<link rel="stylesheet" href="/css/admin/pendingReports.css">
<h1 style="padding-top:120px; text-align: left; padding-left: 24px;">Report pending approval</h1>
<div class="container" >
    <% if (reports.length===0) { %>
        <div class="alert alert-info">There are no reports pending approval</div>
        <% } else { %>
            <table class="table">
                <thead>
                    <tr>
                        <th>Report code</th>
                        <th>Type</th>
                        <th>Product</th>
                        <th>Quantity</th>
                        <th>Value</th>
                        <th>Creator</th>
                        <th>Creation date</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <% reports.forEach(report=> { %>
                        <tr>
                            <td>
                                <%= report.id %>
                            </td>
                            <td>
                                <%= report.type==='import' ? 'Nhập' : 'Xuất' %>
                            </td>
                            <td>
                                <%= report.product_name %>
                            </td>
                            <td>
                                <%= report.quantity %>
                            </td>
                            <td>
                                <%= (report.quantity * report.price).toLocaleString() %> VND
                            </td>
                            <td>
                                <%= report.created_by_name %>
                            </td>
                            <td>
                                <%= new Date(report.created_at).toLocaleString() %>
                            </td>
                            <td>
                                <form method="POST" action="/manager/reports/<%= report.id %>/process" class="">
                                    <input type="hidden" name="action" value="approve">
                                    <button type="submit" class="btn btn-sm btn-success">Approved</button>
                                </form>
                                <form method="POST" action="/manager/reports/<%= report.id %>/process" class="">
                                    <input type="hidden" name="action" value="reject">
                                    <button type="submit" class="btn btn-sm btn-danger">Rejected</button>
                                </form>
                            </td>
                        </tr>
                        <% }) %>
                </tbody>
            </table>
            <% } %>
</div>

    <%- include('../partials/manager/footer') %>