<%- include('../partials/manager/header') %>

<link rel="stylesheet" href="/css/admin/dashboard.css">

<div class="container">
    <div class="stats stats1">
        <div class="stat-card" id="pending-reports">
            <h3>Báo cáo chờ duyệt</h3>
            <p>
                <%= stats.pendingReports || 0 %>
            </p>
        </div>
        <div class="stat-card">
            <h3>Sản phẩm sắp hết</h3>
            <p>
                <%= stats.lowStockProducts || 0 %>
            </p>
        </div>
        <div class="stat-card" id="inventory-alerts">
            <h3>Tồn kho</h3>
            <p>
                <%= stats.inventoryAlerts %>
            </p>
        </div>
    </div>
    <hr>
    <div class="stats stats2">
        <div class="stat-card" id="total-products">
            <h3>Sản phẩm</h3>
            <p>
                <%= stats.totalProducts || 0 %>
            </p>
        </div>
        <!-- <div class="stat-card" id="total-users">
            <h3>Người dùng</h3>
            <p>
                <%= stats.totalUsers || 0 %>
            </p>
        </div> -->
        <div class="stat-card">
            <h3>Báo cáo hôm nay</h3>
            <p>
                <%= stats.todayReports || 0 %>
            </p>
        </div>
    </div>
</div>
<script src="/js/darkmode/admin/dashboard.js"></script>

<script>
    function warning() {
    const firstStats = document.querySelectorAll('.stats1 .stat-card');
    firstStats.forEach((stat) => {
        if (stat.querySelector('p').textContent.trim() === "0") {
            stat.style.borderLeft = '12px solid green';
        } else {
            stat.style.borderLeft = '12px solid red';
        }
    });
}
warning();

function callURL() {
    const totalProducts = document.getElementById('total-products');
    const pendingReports = document.getElementById('pending-reports');
    const totalUsers = document.getElementById('total-users');
    const inventoryAlerts = document.getElementById('inventory-alerts');

    pendingReports.onclick = function () {
        window.location.href = '/manager/reports/pending';
    };

    totalProducts.onclick = function () {
        window.location.href = '/manager/products';
    };

   
    inventoryAlerts.onclick = function () {
        window.location.href = '/manager/inventory/alerts';
    };

}
callURL();

</script>
